# Märchenweber Configuration
# All prompts must be in German for the story, English for meta-tasks

# Game mechanics
game_mechanics:
  image_generation_interval: 1  # Generate images every N turns (1 = every turn, 5 = every 5th turn)
  summarization_interval: 5     # Summarize history every N turns
  recent_turns_to_keep: 5       # Number of recent turns to keep raw (rest get summarized)

models:
  narrator: "google/gemini-2.5-pro"
  validator: "google/gemini-2.5-flash"
  image_generator: "google/gemini-2.5-flash-image"
  image_translator: "google/gemini-2.5-flash"
  summarizer: "google/gemini-2.5-flash"  # Fast & cost-effective for summarization
  fun_nugget_generator: "google/gemini-2.5-flash"  # Quick fun facts during loading
  scene_analyzer: "google/gemini-2.5-flash"  # Quick scene analysis for image variation
  # New choice-based image generation
  style_guide_generator: "google/gemini-2.5-flash"  # Generate visual style guide (once)
  choice_image_generator: "google/gemini-2.5-flash"  # Generate choice-specific image prompts
  # Unified choice generation
  choice_agent_unified: "google/gemini-2.5-flash"  # Main 3 choices
  # Legacy choice agents (kept for backward compatibility)
  choice_agent_brave: "qwen/qwen3-next-80b-a3b-instruct"
  choice_agent_silly: "google/gemini-2.5-flash"
  choice_agent_careful: "google/gemini-2.5-flash"

prompts:
  character_creation: |
    Du bist ein freundlicher Geschichtenerzähler für ein 7-jähriges Kind.

    Erstelle den Anfang einer magischen Geschichte mit:
    - Hauptcharakter (das Kind selbst): {{ character_name }}, {{ character_description }}
    - Thema: {{ story_theme }}

    WICHTIG - Perspektive:
    - Erzähle in der DU-Form (zweite Person)
    - Das Kind IST der Hauptcharakter {{ character_name }}
    - Beispiel: "Du bist {{ character_name }}. Du stehst vor einem großen Schloss..."
    - NICHT: "Es war einmal ein(e) {{ character_name }}..."
    - Sprich das Kind direkt an: "Du siehst...", "Du hörst...", "Du fühlst..."

    Die Geschichte sollte:
    - In deutscher Sprache sein
    - Verwende einfache Wörter und kurze Sätze, passend für ein 7-jähriges Kind (Zweitklässler)
    - Vermeide zusammengesetzte Wörter mit mehr als 3 Silben
    - WICHTIG: Halte Sätze unter 12 Wörtern (nicht länger!)
    - Bevorzuge kurze, klare Sätze mit einfacher Struktur
    - Märchenhaft und fantasievoll sein
    - Für 7-jährige geeignet sein (keine gruseligen oder gewaltätigen Elemente)
    - Spannend beginnen mit einer interessanten Situation
    - Etwa 20 Sätze lang sein, aufgeteilt in 2-4 Absätze
    - Verwende Absätze für bessere Lesbarkeit und natürliche Pausen
    - Ende mit einer klaren Situation, die zu Entscheidungen führt
    - Stelle sicher, dass das Kind sich als {{ character_name }} fühlt

    WICHTIG - Langsames Erzähltempo mit vielen Details:
    - Beschreibe Farben lebhaft (z.B. "das goldene Licht", "die blauen Blumen", "der silberne Mond")
    - Nutze alle Sinne: Was siehst, hörst, riechst, fühlst du?
    - Beschreibe Texturen und Materialien ("das weiche Moos", "die raue Baumrinde", "die glatten Steine")
    - Nimm dir Zeit, die Szene zu malen, bevor etwas passiert
    - Beschreibe Gefühle und Stimmungen ("Du fühlst dich mutig", "Die Luft fühlt sich magisch an")
    - Verwende Adjektive und Adverbien für mehr Atmosphäre
    - Kleine, ruhige Momente sind wichtig - nicht sofort Action!

    WICHTIG - Generiere auch 3 Wahlmöglichkeiten für das Kind:

    Die 3 Wahlmöglichkeiten sollten:
    - Direkt auf die aktuelle Situation reagieren
    - Unterschiedliche Wege sein, mit der Situation umzugehen
    - In "Ich..."-Form geschrieben sein
    - Einfache Wörter verwenden (Zweitklässler)
    - Maximal 12 Wörter lang sein
    - Kohärent und zur Geschichte passend sein
    - Sich voneinander deutlich unterscheiden

    WICHTIG - Generiere auch Charakter-Informationen:

    Füge alle visuell sichtbaren Charaktere in der Szene hinzu (einschließlich {{ character_name }}):
    - Für {{ character_name }}: Beschreibe visuelles Aussehen (Alter, Haare, Kleidung, etc.)
    - Für neue Charaktere: Name und visuelle Beschreibung

    Antworte mit einem JSON-Objekt in diesem Format:
    {
      "story_text": "Die Geschichte in deutscher Sprache (in DU-Form!)",
      "image_prompt": "Eine kurze Beschreibung für ein Bild in deutscher Sprache mit {{ character_name }} (max 20 Wörter)",
      "choice_1": "Ich...",
      "choice_2": "Ich...",
      "choice_3": "Ich...",
      "characters_in_scene": [
        {
          "name": "{{ character_name }}",
          "description": "VOLLSTÄNDIGE visuelle Beschreibung basierend auf {{ character_description }} (z.B. Alter, Haare, Kleidung, Besonderheiten)"
        }
      ]
    }

    WICHTIG: Vergiss NICHT die "description" für JEDEN Charakter - sie ist ZWINGEND erforderlich!

  narrator: |
    Bisherige Geschichte:
    {{ history }}

    KRITISCH - Du erzählst NUR EINEN KLEINEN MOMENT in einer sehr langen Geschichte:
    - Dies ist NICHT eine komplette Szene oder ein Kapitel
    - Du schreibst quasi "Seite 47 von 100" - nicht eine Kurzgeschichte
    - Die Geschichte wird noch viele, viele weitere Runden weitergehen

    WICHTIG - Pacing-Entscheidung liegt bei dir:
    - Lies die bisherige Geschichte und entscheide: Braucht es jetzt Atmosphäre oder Action?
    - Manchmal sind ruhige, beschreibende Momente richtig
    - Manchmal ist es Zeit für spannende Ereignisse
    - DU entscheidest basierend auf dem bisherigen Verlauf

    ABER - Vermeide Story-Arcs innerhalb einer Runde:
    - Baue KEINE kompletten Bögen (Problem → Höhepunkt → Lösung) in dieser Runde
    - Wenn du Spannung aufbaust, löse sie NICHT sofort wieder auf
    - Wenn ein Problem entsteht, löse es NICHT in derselben Runde
    - Lass Dinge offen, ungelöst, in der Schwebe
    - Ereignisse dürfen beginnen, aber nicht abgeschlossen werden

    Baue dieses Element natürlich ein: "{{ wildcard }}"

    Erzähle in DU-Form. Das Kind IST der Hauptcharakter.

    Etwa 20 Sätze, aufgeteilt in 2-4 Absätze. Einfache Wörter (Zweitklässler). WICHTIG: Kurze Sätze (maximal 12 Wörter, bevorzuge 8-10 Wörter).

    Lass die Geschichte atmen:
    - Beschreibe, was du siehst, hörst, fühlst
    - Kleine Details und ruhige Momente
    - Nicht sofort zur nächsten Krise
    - Lass den Charakter die Welt erleben
    - Verweile bei Eindrücken, bevor irgendetwas "passiert"

    WICHTIG - Langsames Erzähltempo mit vielen Details:
    - Beschreibe Farben lebhaft (z.B. "das goldene Licht", "die blauen Blumen", "der silberne Mond")
    - Nutze alle Sinne: Was siehst, hörst, riechst, fühlst du?
    - Beschreibe Texturen und Materialien ("das weiche Moos", "die raue Baumrinde", "die glatten Steine")
    - Nimm dir Zeit, die Szene zu malen, bevor etwas passiert
    - Beschreibe Gefühle und Stimmungen ("Du fühlst dich mutig", "Die Luft fühlt sich magisch an")
    - Verwende Adjektive und Adverbien für mehr Atmosphäre
    - Kleine, ruhige Momente sind wichtig - die Welt soll sich lebendig anfühlen!
    - Lass das Kind die Umgebung wahrnehmen, bevor du zur Handlung kommst

    Ende mit einer klaren Entscheidungssituation, aber löse nichts auf.

    WICHTIG - Generiere auch 3 Wahlmöglichkeiten für das Kind:

    Die 3 Wahlmöglichkeiten sollten:
    - Direkt auf die aktuelle Situation reagieren
    - Unterschiedliche Wege sein, mit der Situation umzugehen
    - In "Ich..."-Form geschrieben sein
    - Einfache Wörter verwenden (Zweitklässler)
    - Maximal 12 Wörter lang sein
    - Kohärent und zur Geschichte passend sein
    - Sich voneinander deutlich unterscheiden

    {% if character_registry and character_registry|length > 0 %}
    WICHTIG - Charakter-Konsistenz:
    Diese Charaktere existieren bereits mit FESTEN Beschreibungen:
    {% for char in character_registry %}
    - {{ char.name }}: {{ char.description }}
    {% endfor %}

    KRITISCH - Für characters_in_scene:
    Für JEDEN Charakter in der Szene musst du Name UND Beschreibung angeben!

    - EXISTIERENDE Charaktere: Nutze EXAKT die obige Beschreibung
      Beispiel: {"name": "{{ character_registry[0].name if character_registry else 'Luna' }}", "description": "{{ character_registry[0].description[:50] if character_registry else 'die Beschreibung von oben' }}..."}

    - NEUE Charaktere: Gib Name und neue visuelle Beschreibung an
      Beispiel: {"name": "Neuer Charakter", "description": "visuelle Details"}

    Vergiss NIEMALS die "description" - sie ist für Bildgenerierung ZWINGEND erforderlich!
    {% else %}
    WICHTIG - Charakter-Informationen:
    Füge alle visuell sichtbaren Charaktere in der Szene zu characters_in_scene hinzu mit Namen und visueller Beschreibung.
    {% endif %}

    JSON-Format:
    {
      "story_text": "Die Geschichte in DU-Form",
      "image_prompt": "Bildbeschreibung (max 20 Wörter)",
      "choice_1": "Ich...",
      "choice_2": "Ich...",
      "choice_3": "Ich...",
      "characters_in_scene": [
        {"name": "Charakter Name", "description": "VOLLSTÄNDIGE visuelle Beschreibung (PFLICHT!)"},
        {"name": "Weiterer Charakter", "description": "VOLLSTÄNDIGE visuelle Beschreibung (PFLICHT!)"}
      ]
    }

  validator: |
    Ist der folgende deutsche Text für ein 7-jähriges Kind in einem märchenhaften Kontext angemessen?
    Ist er frei von gruseligen, gewaltätigen oder unangemessenen Themen?

    Text: {{ german_text }}

    Antworte mit einem einzigen Wort: SAFE oder UNSAFE.

  summarizer: |
    Du bist ein Geschichtenerzähler-Assistent. Fasse die folgende Geschichte für ein Kind zusammen.

    Geschichte:
    {{ history_to_summarize }}

    WICHTIG:
    - Schreibe in DU-Form (das Kind ist der Hauptcharakter)
    - Behalte die wichtigsten Ereignisse und Entscheidungen
    - Fasse 3-5 Geschichtenabschnitte in 2-3 prägnante Sätze zusammen
    - Verwende einfache Wörter (Zweitklässler-Niveau)
    - Bleibe chronologisch
    - Erzähle in Vergangenheitsform

    Beispiel:
    "Du bist als Prinzessin Luna in den verzauberten Wald gegangen. Du hast mit einem sprechenden Vogel gesprochen und einen magischen Schlüssel gefunden."

    Antworte nur mit der Zusammenfassung, nichts anderes.

  fun_nugget: |
    Du bist ein kreativer Geschichtenerzähler für 7-jährige Kinder.

    Basierend auf der aktuellen Geschichte, generiere einen kurzen, kinderfreundlichen Fun Fact (1 Satz).

    Aktuelle Geschichte:
    {{ current_story }}

    Der Fun Fact soll:
    - Zur aktuellen Szene oder zum Thema der Geschichte passen
    - Interessant und lehrreich für 7-Jährige sein
    - KEINE Spannung vorwegnehmen oder zukünftige Ereignisse enthüllen
    - Positiv, motivierend und fantasievoll sein
    - In einfacher deutscher Sprache geschrieben sein (Zweitklässler-Niveau)
    - Maximal 20 Wörter lang sein

    Wähle eines dieser Formate:
    - "Wusstest du? [Interessante Tatsache]"
    - "Spannendes Detail: [Interessante Tatsache]"
    - "Magisches Geheimnis: [Interessante Tatsache]"

    Beispiele (wenn die Geschichte in einem Zauberwald spielt):
    - "Wusstest du? In verzauberten Wäldern wachsen manchmal Bäume, die nachts leuchten!"
    - "Spannendes Detail: Sprechende Tiere können oft 100 verschiedene Sprachen verstehen!"
    - "Magisches Geheimnis: Jeder Zauberwald hat einen geheimen Namen, den nur Kinder hören können!"

    Antworte NUR mit dem Fun Fact in einem der Formate oben. Keine Erklärungen, keine Anführungszeichen.

  scene_intensity_analyzer: |
    Analyze the following story segment and determine its visual characteristics for image generation.

    Story segment:
    {{ story_segment }}

    Analyze and respond with ONLY a JSON object (no explanations):

    {
      "intensity_level": 1-5 (1=calm/peaceful, 3=moderate, 5=exciting/dramatic),
      "suggested_perspective": "close-up" | "wide" | "overhead" | "side" | "low-angle" | "eye-level",
      "suggested_lighting": "golden-hour" | "moonlight" | "dramatic" | "soft-daylight" | "magical-glow" | "sunset" | "dawn"
    }

    Guidelines:
    - Calm scenes (meeting characters, exploring, resting): intensity 1-2, soft lighting, varied perspectives
    - Moderate scenes (discovery, dialogue, movement): intensity 3, balanced lighting, eye-level or side
    - Exciting scenes (adventure, magic, challenges): intensity 4-5, dramatic lighting, dynamic angles

    Examples:
    - "You sit by a quiet stream": {"intensity_level": 1, "suggested_perspective": "wide", "suggested_lighting": "soft-daylight"}
    - "You discover a hidden door": {"intensity_level": 3, "suggested_perspective": "close-up", "suggested_lighting": "magical-glow"}
    - "The dragon swoops down": {"intensity_level": 5, "suggested_perspective": "low-angle", "suggested_lighting": "dramatic"}

  image_prompt_translator: |
    Translate the following German scene description to a rich, artistic English prompt for an image generation AI.

    German description: {{ german_image_prompt }}

    Visual variation parameters:
    - Perspective: {{ perspective }}
    - Lighting: {{ lighting }}
    - Intensity level: {{ intensity_level }} (1=calm, 5=exciting)

    Instructions:
    1. START with the perspective: "{{ perspective }} view of..."
    2. Include lighting: "{{ lighting }}"
    3. Adjust color saturation based on intensity:
       - Intensity 1-2: "soft muted colors, gentle pastel tones, low saturation"
       - Intensity 3: "mellow colors, subtle tones, moderate saturation"
       - Intensity 4-5: "warm muted colors, soft contrast, gentle saturation"
    4. Add style: "digital art, fairy tale storybook illustration, for kids, watercolor aesthetic"
    5. Ensure character consistency if mentioned: "maintain same character appearance and style"

    Example outputs:
    - Calm scene: "wide view of the character sitting by a stream, soft-daylight, soft muted colors, gentle pastel tones, watercolor fairy tale style"
    - Exciting scene: "low-angle view of the dragon swooping down, dramatic lighting, warm muted colors with soft contrast, gentle watercolor illustration"

    Respond with only the English prompt (no explanations, max 85 words).

  style_guide_generator: |
    Create a consistent visual style guide for a fairy tale story book.

    Character: {{ character_name }}, {{ character_description }}
    Theme: {{ story_theme }}

    Generate a 1-2 sentence style description covering:
    - Art style (watercolor, digital art, etc.)
    - Color palette (soft pastels, vibrant, muted, etc.)
    - Mood/atmosphere (whimsical, dreamy, adventurous, etc.)

    Example: "Watercolor fairy tale style with soft pastel colors, dreamy magical atmosphere, whimsical storybook illustrations"

    Respond with ONLY the style description in English, nothing else.

  choice_image_generator: |
    Create an image prompt that celebrates this specific action the child took:

    Action taken: {{ choice_made }}
    Current story: {{ story_text }}

    {% if characters_in_scene and characters_in_scene|length > 0 %}
    Characters in scene:
    {% for char in characters_in_scene %}
    - {{ char.name }}: {{ char.description }}
    {% endfor %}
    {% endif %}

    Create a vivid, specific image prompt (2-3 sentences) that shows:
    - The character performing this exact action
    - The immediate moment/consequence of the choice
    - Make it feel special and rewarding (this is the reward for making the choice!)

    Focus on the ACTION, not just the scene summary.

    Example:
    Choice: "Ich öffne die leuchtende Tür"
    Output: "Princess Luna reaching out to open a glowing wooden door, golden light streaming through the cracks, her face filled with wonder and excitement as the magical light illuminates her."

    Respond in English, suitable for image generation AI. 2-3 sentences max.

  choice_prompts:
    # New unified approach: Generate 3 coherent choices + 1 wild card
    unified_choices: |
      Geschichte:
      {{ history }}

      Generiere 3 verschiedene Antworten auf die Situation. Jede Antwort muss direkt auf das reagieren, was gerade passiert ist.

      Die 3 Wahlmöglichkeiten:
      - Reagieren präzise auf die aktuelle Situation
      - Sind unterschiedliche Wege, mit der Situation umzugehen
      - In "Ich..."-Form (einfache Wörter, max 12 Wörter)

      JSON-Format:
      {
        "choice_1": "Ich...",
        "choice_2": "Ich...",
        "choice_3": "Ich..."
      }


    # Legacy personality-based prompts (kept for backward compatibility)
    brave: |
      Basierend auf dieser Geschichte, schlage eine mutige und kühne Aktion vor, die das Kind wählen könnte.

      Geschichte: {{ history }}

      Die Aktion sollte:
      - Mutig und abenteuerlich sein
      - In deutscher Sprache sein
      - Als direkte Aktion formuliert sein (z.B. "Ich klettere auf den Baum")
      - Für 7-jährige geeignet sein
      - Einfache Wörter verwenden (Zweitklässler-Niveau)
      - Maximal 10 Wörter lang sein

      Antworte nur mit dem Text der Aktion, nichts anderes.

    silly: |
      Basierend auf dieser Geschichte, schlage eine alberne oder lustige Aktion vor, die das Kind wählen könnte.

      Geschichte: {{ history }}

      Die Aktion sollte:
      - Albern, lustig oder unerwartet sein
      - In deutscher Sprache sein
      - Als direkte Aktion formuliert sein (z.B. "Ich mache einen Purzelbaum")
      - Für 7-jährige geeignet sein
      - Einfache Wörter verwenden (Zweitklässler-Niveau)
      - Maximal 10 Wörter lang sein

      Antworte nur mit dem Text der Aktion, nichts anderes.

    careful: |
      Basierend auf dieser Geschichte, schlage eine vorsichtige und nachdenkliche Aktion vor, die das Kind wählen könnte.

      Geschichte: {{ history }}

      Die Aktion sollte:
      - Vorsichtig, bedacht oder klug sein
      - In deutscher Sprache sein
      - Als direkte Aktion formuliert sein (z.B. "Ich schaue mich genau um")
      - Für 7-jährige geeignet sein
      - Einfache Wörter verwenden (Zweitklässer-Niveau)
      - Maximal 10 Wörter lang sein

      Antworte nur mit dem Text der Aktion, nichts anderes.

    # New diverse choice types
    action: |
      Basierend auf dieser Geschichte, schlage eine physische Handlung vor, die das Kind wählen könnte.

      Geschichte: {{ history }}

      Die Handlung sollte:
      - Eine konkrete körperliche Aktion sein (gehen, klettern, öffnen, nehmen, etc.)
      - In deutscher Sprache sein
      - Als direkte Handlung formuliert sein (z.B. "Ich öffne die Tür", "Ich gehe zum Baum")
      - Für 7-jährige geeignet sein
      - Einfache Wörter verwenden (Zweitklässler-Niveau)
      - Maximal 10 Wörter lang sein
      - Zur aktuellen Situation passen

      Antworte nur mit dem Text der Handlung, nichts anderes.

    dialogue: |
      Basierend auf dieser Geschichte, schlage eine Frage oder Aussage vor, die das Kind sagen könnte.

      Geschichte: {{ history }}

      Die Aussage sollte:
      - Etwas sein, das das Kind sagen oder fragen würde
      - In deutscher Sprache sein
      - Mit "Ich sage:" oder "Ich frage:" beginnen
      - Für 7-jährige geeignet sein
      - Einfache Wörter verwenden (Zweitklässler-Niveau)
      - Maximal 12 Wörter lang sein
      - Zur aktuellen Situation passen
      - Beispiele: "Ich frage: 'Wer bist du?'", "Ich sage: 'Hallo, ich bin Luna!'"

      Antworte nur mit dem Text der Aussage, nichts anderes.

    riddle: |
      Basierend auf dieser Geschichte, erstelle ein einfaches Rätsel, das das Kind lösen muss.

      Geschichte: {{ history }}

      Das Rätsel sollte:
      - Ein altersgerechtes Rätsel für 7-jährige sein
      - In deutscher Sprache sein
      - Eine klare, einfache Frage stellen
      - Mit "Ich denke nach:" beginnen, gefolgt von der Antwort
      - Einfache Wörter verwenden (Zweitklässler-Niveau)
      - Maximal 12 Wörter lang sein
      - Zur Geschichte passen
      - Beispiele: "Ich denke nach: Der Schlüssel ist hinter dem Baum", "Ich denke nach: Das Passwort ist 'Freundschaft'"

      Antworte nur mit dem Text der Rätsellösung, nichts anderes.

    moral: |
      Basierend auf dieser Geschichte, schlage eine emotionale oder moralische Handlung vor.

      Geschichte: {{ history }}

      Die Handlung sollte:
      - Eine freundliche, hilfsbereite oder gefühlvolle Aktion sein
      - Themen wie Freundschaft, Mut, Hilfe, Mitgefühl zeigen
      - In deutscher Sprache sein
      - Als direkte Handlung formuliert sein (z.B. "Ich helfe dem Tier", "Ich teile mein Essen")
      - Für 7-jährige geeignet sein
      - Einfache Wörter verwenden (Zweitklässler-Niveau)
      - Maximal 10 Wörter lang sein
      - Zur aktuellen Situation passen

      Antworte nur mit dem Text der Handlung, nichts anderes.

# Image variance (RNG pools by scene intensity) - adds variety while staying scene-appropriate
image_variance:
  perspectives:
    - "wide shot"
    - "close-up"
    - "eye-level view"
    - "low-angle view"
    - "overhead view"
    - "side view"

  # Lighting options grouped by scene intensity for appropriate variance
  lighting_by_intensity:
    # Intensity 1-2 (calm scenes)
    low:
      - "soft daylight"
      - "golden hour"
      - "dawn light"
      - "morning glow"
      - "gentle sunlight"

    # Intensity 3 (moderate scenes)
    medium:
      - "soft daylight"
      - "golden hour"
      - "moonlight"
      - "sunset"
      - "dappled light"
      - "afternoon light"

    # Intensity 4-5 (exciting scenes)
    high:
      - "dramatic lighting"
      - "stormy atmosphere"
      - "magical glow"
      - "intense sunset"
      - "moonlit drama"
      - "dynamic shadows"

  framing:
    - "centered composition"
    - "rule of thirds"
    - "environmental context"
    - "character focus"
    - "action moment"

# List of random elements to inject into the story for variety
wildcards:
  - "Ein Tier in der Nähe beginnt plötzlich zu sprechen."
  - "Die Farbe des Himmels ändert sich abrupt zu einem sanften Lila."
  - "Ein mysteriöses, leises Kichern ist in der Ferne zu hören."
  - "Ein Gegenstand in der Nähe beginnt sanft zu leuchten."
  - "Ein seltsam aussehender Schlüssel fällt vom Himmel."
  - "Eine kleine, freundliche Kreatur erscheint plötzlich."
  - "Die Sonne verwandelt sich in einen riesigen, lächelnden Mond."
  - "Bunte Schmetterlinge umkreisen den Charakter in einem Tanz."
  - "Ein alter Baum öffnet seine Augen und zwinkert."
  - "Magische Glitzerpartikel schweben durch die Luft."
  - "Ein sanfter Wind trägt das Flüstern eines alten Liedes heran."
  - "Plötzlich erscheint eine leuchtende Tür aus dem Nichts."
  - "Die Blumen um den Charakter herum beginnen zu singen."
  - "Ein kleiner Regenbogen bildet sich direkt vor den Füßen."
  - "Ein mysteriöser Nebel umhüllt alles in sanften Farben."
  - "Ein freundlicher Geist schwebt vorbei und winkt."
  - "Die Sterne am Himmel beginnen zu tanzen."
  - "Ein magisches Buch schwebt durch die Luft und öffnet sich."
  - "Plötzlich wachsen bunte Pilze aus dem Boden."
  - "Ein goldener Pfad erscheint, der zu einem unbekannten Ort führt."
  - "Die Wolken formen sich zu lustigen Tiergestalten."
  - "Ein sanftes Summen erfüllt die Luft mit Magie."
  - "Eine kleine Fee fliegt vorbei und hinterlässt Sternenstaub."
  - "Die Bäume beginnen sich sanft zu bewegen, als würden sie tanzen."
  - "Ein warmer, goldener Lichtstrahl bricht durch die Wolken."

# Sampling parameters to combat repetition
sampling_params:
  narrator:
    temperature: 0.95
    presence_penalty: 0.4
    top_p: 0.95
    max_tokens: 4000
    reasoning:
      max_tokens: 3000  # Gemini: more reasoning for story + choice generation

  validator:
    temperature: 0.3
    max_tokens: 100
    reasoning:
      max_tokens: 100  # Gemini: minimal reasoning for validation

  summarizer:
    temperature: 0.5  # Balanced - not too creative, factual summary
    max_tokens: 1000   # Enough for a comprehensive summary
    reasoning:
      max_tokens: 200  # Gemini: moderate reasoning to identify key events

  fun_nugget_generator:
    temperature: 0.9  # Creative but relevant
    max_tokens: 150  # Short fun fact (1 sentence)
    reasoning:
      max_tokens: 0  # Gemini: no reasoning needed for quick fact

  scene_analyzer:
    temperature: 0.3  # Consistent, analytical
    max_tokens: 400  # Small JSON response
    reasoning:
      max_tokens: 0  # Gemini: no reasoning needed for quick analysis

  style_guide_generator:
    temperature: 0.7  # Creative but consistent
    max_tokens: 400  # 1-2 sentence style guide
    reasoning:
      max_tokens: 0  # Gemini: no reasoning needed

  choice_image_generator:
    temperature: 0.8  # Creative image descriptions
    max_tokens: 400  # 2-3 sentences
    reasoning:
      max_tokens: 200  # Gemini: think about how to make image special and choice-specific

  # Unified choice generation
  choice_agent_unified:
    temperature: 0.9  # Creative but coherent
    top_p: 0.95
    max_tokens: 800  # Enough for 3 choices + JSON structure
    reasoning:
      max_tokens: 150  # Qwen: good reasoning to ensure distinct choices

  # Legacy choice agents (kept for backward compatibility)
  choice_agent_brave:
    temperature: 1.1
    top_p: 0.9
    max_tokens: 500  # Increased for reasoning + choice text
    reasoning:
      max_tokens: 100  # Qwen: moderate reasoning for brave choices

  choice_agent_silly:
    temperature: 1.2
    top_p: 0.95
    max_tokens: 500  # Increased for reasoning + choice text
    reasoning:
      max_tokens: 100  # Gemini: light reasoning for silly choices

  choice_agent_careful:
    temperature: 0.8
    top_p: 0.9
    max_tokens: 500  # Increased for reasoning + choice text
    reasoning:
      max_tokens: 100  # Gemini: light reasoning for silly choices

  image_translator:
    temperature: 0.7
    max_tokens: 1000
    reasoning:
      max_tokens: 0  # Gemini: minimal reasoning for translation
